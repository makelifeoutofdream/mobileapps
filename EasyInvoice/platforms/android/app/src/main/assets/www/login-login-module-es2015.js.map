{"version":3,"sources":["./src/app/login/login.page.ts","./src/app/login/login.page.html","./src/app/login/login.module.ts","./src/app/login/login-routing.module.ts","./src/app/login/login.page.scss"],"names":[],"mappings":"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","file":"login-login-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport { ClientPage } from '../client/client.page';\nimport { NavController } from '@ionic/angular';\nimport { AppComponent } from '../app.component';\nimport { User } from '../services/user';\nimport { DbService } from '../services/db.service';\nimport { ToastserviceService } from '../services/toastservice.service';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { EmailComposer } from '@ionic-native/email-composer/ngx';\nimport { UniqueDeviceID } from '@ionic-native/unique-device-id/ngx';\nimport { Uid } from '@ionic-native/uid/ngx';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { Sim } from '@ionic-native/sim/ngx';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  phoneNo : string ;\n  userName : any=\"\";\n  password : any=\"\";\n  loginUser : User;  \n  formLogin : FormGroup;\n  error : boolean =false;\n  errorMessage : string ;\n  private whiteListedMACs : string []=['919074292305','0564863010','0508812145','919074247482']\n  constructor(public app:AppComponent,public navCtrl:NavController,public dbServise:DbService,\n    formBuilder : FormBuilder,public tostService:ToastserviceService,\n    private uniqueDeviceID: UniqueDeviceID,\n    private uid: Uid,\n    private androidPermissions: AndroidPermissions,private sim: Sim) {\n      this.formLogin=new FormGroup({\n        password : new FormControl('',Validators.compose([Validators.required])),\n        email : new FormControl('',Validators.compose([Validators.required])) \n      })\n      this.getPermission();\n      this.sim.requestReadPermission().then(\n        () => console.log('Permission granted'),\n        () => console.log('Permission denied')\n      );\n\n      this.sim.getSimInfo().then(\n        (info) => {\n          console.log('Sim info: ', info),\n        //  alert('sim info'+JSON.stringify(info) );\n          this.phoneNo=info.phoneNumber\n        },\n        (err) => console.log('Unable to get sim info: ', err)\n      );\n   }\n\n  ngOnInit() {\n    this.app.showTabs=false;\n  }\n\n  getPermission(){\n    this.androidPermissions.checkPermission(\n      this.androidPermissions.PERMISSION.READ_PHONE_STATE\n    ).then(res => {\n      if(res.hasPermission){\n        \n      }else{\n        this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_PHONE_STATE).then(res => {\n          alert(\"Persmission Granted Please Restart App!\");\n        }).catch(error => {\n          alert(\"Error! \"+error);\n        });\n      }\n    }).catch(error => {\n      alert(\"Error! \"+error);\n    });\n  }\n\n  get errorControl() {\n    return this.formLogin.controls;\n  }\n  login(){\n    if(!this.formLogin.valid){\n      \n      return ;  \n    }\n    \n    this.dbServise.fetchUserByUserNameAndPassword(this.userName,this.password).then(data=>{\n  //    if(this.whiteListedMACs.includes(this.phoneNo)){\n\n        if(data!=null && data!=undefined){\n          this.loginUser=data;\n          this.app.showTabs=true;\n          this.navCtrl.navigateRoot('dashboard');\n        }else{\n          this.tostService.presentToast(\"Incorrect username or password\");\n        }\n    //  }else{\n      //  this.tostService.presentToast(\"Configuration Error\");\n     // }\n\n    }).catch(err=>{\n        console.log(err);\n        this.tostService.presentToast(\"Incorrect username or password\");\n    });\n    \n    \n  }\n\n  fetchUserByPormise(userName : any,password : any){\n    return this.dbServise.fetchUserByUserNameAndPassword(userName,password).then\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n  <div style=\\\"margin-top: 50%;\\\">\\n    <form [formGroup]=\\\"formLogin\\\">\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\n        <ion-input name=\\\"username\\\" type=\\\"text\\\" [(ngModel)]=\\\"userName\\\" formControlName=\\\"email\\\" required></ion-input>\\n       \\n    </ion-item>\\n    \\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\n      <ion-input name=\\\"password\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\"   formControlName=\\\"password\\\"  required></ion-input>\\n    </ion-item>\\n  </form>\\n\\n    <ion-row>\\n      <ion-col>\\n        <ion-button type=\\\"submit\\\" color=\\\"primary\\\" (click)=\\\"login()\\\" expand=\\\"block\\\" >Login</ion-button>\\n        \\n      </ion-col>\\n      \\n    </ion-row>\\n    <ion-row>\\n      <!-- <ion-col class=\\\"ion-text-left\\\">\\n        <a [routerLink]=\\\"['/forgot-password']\\\" class=\\\"small-text\\\">Forgot Password?</a>\\n      </ion-col> -->\\n      <ion-col class=\\\"ion-text-right\\\">\\n        <a [routerLink]=\\\"['/register']\\\" class=\\\"small-text\\\">Create Account</a>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  \\n  \\n  \\n\\n</ion-content>  \";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule, \n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule,FormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","export default \".verticalCenter {\\n  margin-top: 14%;\\n  margin-left: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGVBQUE7RUFDQSxnQkFBQTtBQUNEIiwiZmlsZSI6ImxvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi52ZXJ0aWNhbENlbnRlciB7XG5cdG1hcmdpbi10b3A6IDE0JTtcblx0bWFyZ2luLWxlZnQ6IDEwJTtcblx0XG59XG4iXX0= */\";"],"sourceRoot":"webpack:///"}