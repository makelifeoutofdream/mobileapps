{"version":3,"sources":["webpack:///node_modules/uuid/dist/esm-browser/regex.js","webpack:///node_modules/uuid/dist/esm-browser/rng.js","webpack:///node_modules/uuid/dist/esm-browser/stringify.js","webpack:///node_modules/uuid/dist/esm-browser/v4.js","webpack:///node_modules/uuid/dist/esm-browser/validate.js","webpack:///src/app/services/db.service.ts","webpack:///src/app/services/toastservice.service.ts"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","byteToHex","i","push","toString","substr","stringify","arr","offset","arguments","length","undefined","uuid","toLowerCase","TypeError","v4","options","buf","rnds","random","validate","DbService","httpClient","toastService","storage","usersKey","customersKey","inventoryKey","invoiceKey","invoiceNumberKey","profileKey","customerCodeKey","init","create","storageVar","user","get","value","users","JSON","parse","id","set","result","console","log","presentToast","username","password","fetchedUser","find","u","email","user_password","customer","customers","newCustomer","name","index","findIndex","list","inventory","inventories","invoices","invoice","invoiceNumber","customerCode","incrementCustomerCode","then","data","userProfile","profile","Object","HttpClient","ToastserviceService","Storage","Injectable","providedIn","toastController","message","duration","toast","present","ToastController"],"mappings":"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","file":"default-src_app_services_db_service_ts-es5.js","sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","\nimport { Injectable } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { User } from './user';\nimport {Customer} from './customer';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { ToastserviceService } from './toastservice.service';\nimport { Storage } from '@ionic/storage-angular';\nimport { Inventory } from './inventory';\nimport { Invoice } from './invoice';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Profile } from './profile';\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class DbService {\n  private usersKey=\"users\";\n  private customersKey=\"customers\";\n  private inventoryKey=\"inventories\";\n  private invoiceKey=\"invoices\";\n  private invoiceNumberKey=\"invoiceNumber\";\n  private profileKey=\"profile\";\n  private customerCodeKey=\"customerCode\";\n  private invoices : Invoice[] ;\n  private inventory : Inventory;\n  private inventories : Inventory[];\n  private customer : Customer;\n  private customers : Customer[];\n  private user : User;\n  private  users:User[]\n  constructor(\n    private httpClient: HttpClient,\n    private toastService : ToastserviceService,\n    private storage : Storage\n  ) {\n   this.init();\n  }\n\n  async init(){\n    const storageVar=await this.storage.create();\n    this.storage=storageVar;\n  }\n  \n  async signup(user : User) : Promise<any> {\n    try{\n      \n      let value=await this.storage.get(this.usersKey)\n      this.users=JSON.parse(value);\n      if(this.users==undefined || this.users==null){\n        this.users=[];\n      }\n      user.id=uuidv4();\n      this.users.push(user);\n      const result =await this.storage.set(this.usersKey,JSON.stringify(this.users));\n      console.log('user signed up successfully'+user);\n      return true;\n    }catch(reason){\n      console.log(reason);\n      this.toastService.presentToast(\"User Registration Failed\");      \n      return false; \n    }\n    \n  }\n  async fetchUserByUserNameAndPassword(username : string,password : string) :Promise<any>{\n    try{\n      \n      const result =await this.storage.get(this.usersKey);\n      this.users=JSON.parse(result);\n      let fetchedUser= this.users.find(u=>u.email==username && u.user_password==password);\n      console.log('retrieved user'+fetchedUser);\n      return fetchedUser;\n    }catch(reason){\n      console.log(reason);\n      return null;\n    }\n  }\n\n  async createCustomer(customer :Customer) : Promise<any>{\n    try{\n      const value=await this.storage.get(this.customersKey);\n      this.customers=JSON.parse(value);\n      if(this.customers==null || this.customers==undefined){\n        this.customers=[];\n      }\n      customer.id=uuidv4();\n      this.customers.push(customer);\n      this.storage.set(this.customersKey,JSON.stringify(this.customers) );\n      return true;\n    }catch(reason){\n      console.log(reason);\n      return false;\n    }\n  }\n  findIndexToUpdate(newCustomer){\n    return newCustomer.name==this;\n  }\n  async UpdateCustomer(customer :Customer) : Promise<any>{\n    try{\n      const value=await this.storage.get(this.customersKey);\n      this.customers=JSON.parse(value);\n      var index = this.customers.findIndex(i => i.id == customer.id);\n      this.customers[index]=customer;\n      this.storage.set(this.customersKey,JSON.stringify(this.customers) );\n      return true;\n    }catch(reason){\n      console.log(reason);\n      return false;\n    }\n  }\n  async getAllCustomers():Promise<any>{\n    try{\n      const result =await this.storage.get(this.customersKey);\n      this.customers= JSON.parse(result)\n      return this.customers;\n    }catch(reason){\n      console.log(reason);\n      this.toastService.presentToast(\"Failed to load the customers\");\n    }\n  }\n\n  async saveAllInventories(list : Inventory[]) : Promise<any>{\n    try{\n      const value=await this.storage.get(this.inventoryKey);\n      this.storage.set(this.inventoryKey,JSON.stringify(list) );\n      return true;\n    }catch(reason){\n      console.log(reason);\n      return false;\n    }\n  }\n  async createOrUpdateInventory(inventory :Inventory) : Promise<any>{\n    try{\n      const value=await this.storage.get(this.inventoryKey);\n      this.inventories=JSON.parse(value);\n      if(this.inventories==null || this.inventories==undefined){\n        this.inventories=[];\n      }\n      if(inventory.id==null  || inventory.id==undefined){\n        inventory.id=uuidv4();\n        this.inventories.push(inventory);\n      }else{\n        var index = this.inventories.findIndex(i => i.id == inventory.id);\n        this.inventories[index]=inventory;\n      }\n      this.storage.set(this.inventoryKey,JSON.stringify(this.inventories) );\n      return true;\n    }catch(reason){\n      console.log(reason);\n      return false;\n    }\n  }\n\n\n  async getAllInventories():Promise<Inventory[]>{\n    try{\n      const result =await this.storage.get(this.inventoryKey);\n        this.inventories= JSON.parse(result)\n        return this.inventories;\n    }catch(reason){\n      console.log(reason);\n      this.toastService.presentToast(\"Failed to load the inventories\");   \n    }\n  }\n\n  async getAllInvoices():Promise<any>{\n    try{\n      const result =await this.storage.get(this.invoiceKey);\n        this.invoices= JSON.parse(result)\n        return this.invoices;\n    }catch(reason){\n      console.log(reason);\n      this.toastService.presentToast(\"Failed to load the invoices\");   \n    }\n  }\n\n  async createOrUpdateInvoice(invoice :Invoice) : Promise<any>{\n    try{\n      const value=await this.storage.get(this.invoiceKey);\n      this.invoices=JSON.parse(value);\n      if(this.invoices==null || this.invoices==undefined){\n        this.invoices=[];\n      }\n      invoice.id=uuidv4();\n      this.invoices.push(invoice);\n      this.storage.set(this.invoiceKey,JSON.stringify(this.invoices) );\n      return true;\n    }catch(reason){\n      console.log(reason);\n      return false;\n    }\n  }\n\n  async incrementInvoiceNumber():Promise<any>{\n    let invoiceNumber : number; \n    invoiceNumber =await this.storage.get(this.invoiceNumberKey);\n    if(invoiceNumber ==null || invoiceNumber==undefined){\n      invoiceNumber=0;\n    }\n    invoiceNumber=invoiceNumber+1;\n    await this.storage.set(this.invoiceNumberKey,invoiceNumber);\n    return invoiceNumber;\n    \n  }\n\n  async getCustomerCode():Promise<any>{\n    let customerCode : number; \n    customerCode =await this.storage.get(this.customerCodeKey);\n    if(customerCode==null || customerCode==undefined){\n      this.incrementCustomerCode().then(data=>{\n        customerCode=data;\n      })\n    }\n    return customerCode;\n  }\n\n  async incrementCustomerCode():Promise<any>{\n    let customerCode : number; \n    customerCode =await this.storage.get(this.customerCodeKey);\n    if(customerCode ==null || customerCode==undefined){\n      customerCode=0;\n    }\n    customerCode=customerCode+1;\n    await this.storage.set(this.customerCodeKey,customerCode);\n    return customerCode;\n    \n  }\n\n  async getInvoiceNumber():Promise<any>{\n    let invoiceNumber; \n    invoiceNumber =await this.storage.get(this.invoiceNumberKey);\n    return invoiceNumber;\n    \n  }\n\n\nasync createOrUpdateProfile(userProfile : Profile) : Promise<Profile>{\n  try{\n   \n    if(userProfile.id==null || userProfile.id==undefined){\n      userProfile.id=uuidv4();\n    }\n    this.storage.set(this.profileKey,JSON.stringify(userProfile) );\n    return userProfile;\n  }catch(reason){\n    console.log(reason);\n    return null;\n  }\n}\n\nasync getProfile() : Promise<Profile>{\n  try{\n    let value=await this.storage.get(this.profileKey );\n    let profile=JSON.parse(value);\n    return profile;\n  }catch(reason){\n    console.log(reason);\n    new Object();\n  }\n}\n\n}\n\n","import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToastserviceService {\n\n  constructor(public toastController: ToastController) {\n\n   }\n   async presentToast(message : string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000\n    });\n    toast.present();\n  }\n}\n"]}