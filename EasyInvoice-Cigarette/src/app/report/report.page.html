<ion-header>
  <ion-toolbar>
    <ion-title>Report</ion-title>
    <ion-buttons slot="start">
        <ion-menu-button menu="mainmenu"> 

        </ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-row>
    <ion-item style="width: 95%;" >
      <ion-col size="12">
      <ion-select style="margin-top: 2%;height: 30px;margin-right: 4%; width: 95%;  max-width: 95% !important;"  [(ngModel)]="selectedCustomer" placeholder="Customer">
      <ion-select-option [value]=null>All</ion-select-option>
        <ion-select-option style="width: 95%;" *ngFor="let cus of customerList" [value]="cus">{{cus.name}}</ion-select-option>
      </ion-select>
    </ion-col>
    </ion-item>
  </ion-row>
  <ion-row>
    
    <ion-col size="4" >
      <ion-item>
        <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="startDate" placeholder="Start Date"></ion-datetime>
      </ion-item>
    </ion-col>

    <ion-col size="4">
      <ion-item>
        <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="endDate" placeholder="End Date"></ion-datetime>
      </ion-item>
    </ion-col>
    <ion-col  size="4" style="text-align: right;">
      <ion-button style="padding-right: 5%;float: right;" (click)="filterInvoices()">
        <ion-icon name="search-outline"></ion-icon>
      </ion-button>
    </ion-col>
  </ion-row>
  <div class="line-separator"></div>
  <div class="full-width" id="imageToPrint">
    <h5 class="text-center page-heading">Report Summary</h5>
    <div class="display-flex  full-width">
        <div  class="summary-label">
          Total Cost :
        </div>
        <div text-right class="item-value letter-space">
          {{cost | number : '1.2'}}
        </div>
    </div>
    <div class="display-flex  full-width">
        <div  class="summary-label">
          Total Revenue :
        </div>
        <div text-right class="item-value letter-space">
          {{revenue | number : '1.2'}} 
        </div>
    </div>
    <div class="display-flex  full-width">
      <div  class="summary-label">
        Total Profit :
      </div>
      <div text-right class="item-value letter-space">
        {{totalProfit | number : '1.2'}}
      </div>
    </div>
    <div class="display-flex  full-width">
      <div  class="summary-label">
        Total Collection :
      </div>
      <div text-right class="item-value letter-space">
        {{collection }}
      </div>
    </div>
    <div class="line-separator"></div>
    <ion-list class="m-b-10">
      <ion-list-header class="list-header">
        <ion-col size="3">Date</ion-col>
        <ion-col size="3" class="text-center">Customer</ion-col>
        <ion-col class="cust-col" size="4">Total</ion-col>
        <ion-col size="2" *ngIf="isNotPrint" >Delete</ion-col>
      </ion-list-header>
        <ion-row *ngFor= "let inv of filterInvoiceList" class="list-row">
          <ion-col size="3" (click)="viewInvoice(inv)">{{inv.invoiceDate | date : short}}</ion-col>
          <ion-col size="3" class="text-center" (click)="viewInvoice(inv)">{{inv.customer.name}}</ion-col>
          <ion-col class="text-right" size="4" (click)="viewInvoice(inv)">{{inv.total}}</ion-col>
          <ion-col size="2" >
              <ion-icon  name="trash" (click)="presentDeleteAlertConfirm(inv)" *ngIf="isNotPrint" class="action-remove"></ion-icon>
          </ion-col>
        </ion-row>
    </ion-list>    
  </div>

</ion-content>
<ion-footer>
  
    
      <ion-row style="float: right;">
        <ion-col style="float: right;">
          <ion-button ion-button  color="primary" (click)="download()">
            <ion-icon name="mail"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col>
          <ion-button color="primary" (click)="printBill()">
            <ion-icon name="print"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
        
    
  
  
</ion-footer>