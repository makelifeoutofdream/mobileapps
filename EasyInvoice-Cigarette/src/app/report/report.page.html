<ion-header>
  <ion-toolbar>
    <ion-title>Report</ion-title>
    <ion-buttons slot="start">
        <ion-menu-button menu="mainmenu"> 

        </ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-row>
    <ion-item style="width: 95%;" >
      <ion-col size="12">
      <ion-select style="margin-top: 2%;height: 30px;margin-right: 4%; width: 95%;  max-width: 95% !important;"  [(ngModel)]="selectedCustomer" placeholder="Customer">
      <ion-select-option [value]=null>All</ion-select-option>
        <ion-select-option style="width: 95%;" *ngFor="let cus of customerList" [value]="cus">{{cus.name}}</ion-select-option>
      </ion-select>
    </ion-col>
    </ion-item>
  </ion-row>
  <ion-row>
    
    <ion-col size="4" >
      <ion-item>
        <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="startDate" placeholder="Start Date"></ion-datetime>
      </ion-item>
    </ion-col>

    <ion-col size="4">
      <ion-item>
        <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="endDate" placeholder="End Date"></ion-datetime>
      </ion-item>
    </ion-col>
    <ion-col  size="4" style="text-align: right;">
      <ion-button style="padding-right: 5%;float: right;" (click)="filterInvoices()">
        <ion-icon name="search-outline"></ion-icon>
      </ion-button>
    </ion-col>
  </ion-row>
  <ion-row style="float:right">
    
  </ion-row>
  <ion-item-divider></ion-item-divider>
  
  <ion-list>
    <ion-list-header>
      <ion-col size="4">Date</ion-col>
      <ion-col size="4" style="text-align: center;">Customer</ion-col>
      <ion-col style="text-align: right;padding-right: 5%;" size="4">Total</ion-col>
    </ion-list-header>
    <ion-item *ngFor= "let inv of filterInvoiceList" (click)="viewInvoice(inv)">
      
        
        
          <ion-col size="4">{{inv.invoiceDate | date : short}}</ion-col>
          <ion-col size="4" style="text-align: center;">{{inv.customer.name}}</ion-col>
          <ion-col style="text-align: right;" size="4">{{inv.total}}</ion-col>
       
     
    </ion-item>
  </ion-list>    

</ion-content>
<ion-content  style="max-height: 10%;margin-top: 2%;" slot="fixed">
  <div class="display-flex  full-width">
    <ion-badge style="margin-left: 1%;width: 50%;" color="primary">Total Cost : {{cost | number : '1.2'}}</ion-badge>
    <ion-badge style="margin-left: 1%;width:44%" color="primary">Total Revenue : {{revenue | number : '1.2'}}</ion-badge>
    
  </div>
  <div class="display-flex  full-width">
    
    <ion-badge style="margin-left: 1%;width: 50%;" color="primary">Total Profit : {{(totalProfit) | number : '1.2'}}</ion-badge>
    <ion-badge style="margin-left: 1%;width: 44% ;" color="primary">Total Collection : {{collection }}</ion-badge>
  </div>

</ion-content>
<ion-footer>
  
    
      <ion-row style="float: right;">
        <ion-col style="float: right;">
          <ion-button ion-button  color="primary" (click)="download()">
            <ion-icon name="mail"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col>
          <ion-button color="primary" (click)="printBill()">
            <ion-icon name="print"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
        
    
  
  
</ion-footer>