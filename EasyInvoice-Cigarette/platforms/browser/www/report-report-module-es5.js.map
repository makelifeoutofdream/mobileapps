{"version":3,"sources":["webpack:///src/app/report/report.module.ts","webpack:///src/app/report/report-routing.module.ts","webpack:///src/app/report/report.page.scss","webpack:///src/app/report/report.page.html","webpack:///src/app/report/report.page.ts"],"names":["ReportPageModule","imports","declarations","schemas","routes","path","component","ReportPageRoutingModule","forChild","exports","ReportPage","dbService","toastService","printService","navCtrl","dataService","alertController","loadingController","totalProfit","cost","revenue","collection","isNotPrint","customerList","navigateForward","getAllInvoices","then","data","invoiceList","filterInvoices","reason","presentToast","console","log","getAllCustomers","header","push","startDate","Date","endDate","getProfile","profile","start","end","undefined","getFullYear","getMonth","getDate","setHours","setMinutes","setSeconds","selectedCustomer","filterInvoiceList","filter","inv","customer","id","invoiceDate","date","getTime","create","cssClass","message","duration","loading","present","applyFilter","totalCost","totalRevenue","totalCollection","res","dismiss","invoices","length","map","itm","tax","reduce","acc","nxt","invoiceItemList","arr","elem","concat","invoiceItems","quantity","purchasePrice","total","amtpaid","i","amountPaid","Number","parseFloat","unitPrice","arrayField","Array","isArray","c","flatten","hasOwnProperty","invoiceDataList","it","invoiceData","InvoiceNumber","invoiceNumber","InvoiceDate","Customer","name","Item","UnitPrice","Quantity","Cost","TotalCost","TotalRevenue","Tax","GP","TotalWithVAT","exportToExcel","invoice","navigationExtras","queryParams","navigateRoot","encoder","grossTax","totalTax","sum","val","grossTotal","today","datetime","getHours","getMinutes","getSeconds","result","initialize","bold","raw","align","line","companyName","newline","vatNumber","crNumber","vat","encode","node","document","getElementById","width","selectedPrinterSize","dataUrl","img","Image","src","onload","e","ht","Math","ceil","offsetHeight","finalPrint","image","connectToBluetoothPrinter","selectedPrinter","subscribe","printDataToPrinter","disconnectBluetoothPrinter","err","alert","error","modalCtrl","deleteInvoice","buttons","text","role","handler","blah","selector","template"],"mappings":"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","file":"report-report-module-es5.js","sourcesContent":["import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReportPageRoutingModule } from './report-routing.module';\n\nimport { ReportPage } from './report.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    \n    ReportPageRoutingModule\n  ],\n  declarations: [ReportPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class ReportPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReportPage } from './report.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReportPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReportPageRoutingModule {}\n","export default \"#imageToPrint {\\n  position: relative;\\n  font-size: 16px;\\n  font-family: Verdana, Geneva, Tahoma, sans-serif !important;\\n}\\n\\n.text-center {\\n  text-align: center;\\n}\\n\\n.text-right {\\n  text-align: right;\\n}\\n\\n.cust-col {\\n  text-align: right;\\n  padding-right: 5%;\\n}\\n\\n.bu-1 {\\n  margin-left: 1%;\\n  width: 50%;\\n}\\n\\n.bu-2 {\\n  margin-left: 1%;\\n  width: 44%;\\n}\\n\\n.list-header {\\n  background: #39d3ea;\\n  color: #fff;\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 9999;\\n}\\n\\n.action-remove {\\n  color: #ee4e50;\\n  background: none;\\n}\\n\\n.list-row {\\n  text-align: center;\\n  align-items: center;\\n  justify-content: center;\\n  display: flex;\\n}\\n\\n.list-row:nth-child(even) {\\n  background: #f2f2f2;\\n  color: #adadad;\\n}\\n\\n.m-tb-10 {\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n}\\n\\n.summary-label {\\n  width: 50%;\\n  padding: 3px 10px;\\n  text-align: start;\\n  font-weight: 600;\\n  color: #837f7f;\\n}\\n\\n.item-value {\\n  width: 50%;\\n  padding: 3px 10px;\\n  text-align: start;\\n  color: #484444;\\n  font-weight: bold;\\n}\\n\\n.line-separator {\\n  margin: 10px 0px;\\n  border: 1px solid #adadad;\\n}\\n\\n.page-heading {\\n  color: #484444;\\n}\\n\\n.display-flex {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.m-b-10 {\\n  margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3JlcG9ydC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLGVBQUE7RUFDQSwyREFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7QUFDSjs7QUFDQTtFQUNJLGlCQUFBO0FBRUo7O0FBQUE7RUFDSSxpQkFBQTtFQUNBLGlCQUFBO0FBR0o7O0FBREE7RUFDSSxlQUFBO0VBQ0EsVUFBQTtBQUlKOztBQUZBO0VBQ0ksZUFBQTtFQUNBLFVBQUE7QUFLSjs7QUFIQTtFQUNJLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLHdCQUFBO0VBQUEsZ0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxhQUFBO0FBTUo7O0FBSkE7RUFDSSxjQUFBO0VBQ0EsZ0JBQUE7QUFPSjs7QUFMQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7QUFRSjs7QUFOQTtFQUNJLG1CQUFBO0VBQ0EsY0FBQTtBQVNKOztBQVBBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtBQVVKOztBQVJBO0VBQ0ksVUFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFXSjs7QUFUQTtFQUNJLFVBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FBWUo7O0FBVEE7RUFDSSxnQkFBQTtFQUNBLHlCQUFBO0FBWUo7O0FBVkE7RUFDSSxjQUFBO0FBYUo7O0FBWEE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQWNKOztBQVpBO0VBQ0ksbUJBQUE7QUFlSiIsImZpbGUiOiJyZXBvcnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2ltYWdlVG9QcmludCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGZvbnQtc2l6ZTogMTZweCA7XG4gICAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEdlbmV2YSwgVGFob21hLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7ICAgIFxuICAgIFxufVxuLnRleHQtY2VudGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4udGV4dC1yaWdodCB7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG4uY3VzdC1jb2wge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIHBhZGRpbmctcmlnaHQ6IDUlO1xufVxuLmJ1LTEge1xuICAgIG1hcmdpbi1sZWZ0OiAxJTtcbiAgICB3aWR0aDogNTAlO1xufVxuLmJ1LTIge1xuICAgIG1hcmdpbi1sZWZ0OiAxJTtcbiAgICB3aWR0aDo0NCU7XG59XG4ubGlzdC1oZWFkZXIge1xuICAgIGJhY2tncm91bmQ6ICMzOWQzZWE7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcG9zaXRpb246IHN0aWNreTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICB6LWluZGV4OiA5OTk5O1xufVxuLmFjdGlvbi1yZW1vdmUge1xuICAgIGNvbG9yOiAjZWU0ZTUwO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG59XG4ubGlzdC1yb3cge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG59XG4ubGlzdC1yb3c6bnRoLWNoaWxkKGV2ZW4pIHtcbiAgICBiYWNrZ3JvdW5kOiAgI2YyZjJmMjtcbiAgICBjb2xvcjogI2FkYWRhZDtcbn1cbi5tLXRiLTEwIHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG4uc3VtbWFyeS1sYWJlbCB7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBwYWRkaW5nOiAzcHggMTBweDtcbiAgICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIGNvbG9yOiAjODM3ZjdmO1xufVxuLml0ZW0tdmFsdWUge1xuICAgIHdpZHRoOiA1MCU7XG4gICAgcGFkZGluZzogM3B4IDEwcHg7XG4gICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgY29sb3I6ICM0ODQ0NDQ7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5saW5lLXNlcGFyYXRvciB7XG4gICAgbWFyZ2luOiAxMHB4IDBweDtcbiAgICBib3JkZXIgOiAxcHggc29saWQgI2FkYWRhZDtcbn1cbi5wYWdlLWhlYWRpbmcge1xuICAgIGNvbG9yOiAjNDg0NDQ0O1xufVxuLmRpc3BsYXktZmxleCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogIGNlbnRlcjtcbn1cbi5tLWItMTAge1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Report</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button menu=\\\"mainmenu\\\"> \\n\\n        </ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-row>\\n    <ion-item style=\\\"width: 95%;\\\" >\\n      <ion-col size=\\\"12\\\">\\n      <ion-select style=\\\"margin-top: 2%;height: 30px;margin-right: 4%; width: 95%;  max-width: 95% !important;\\\"  [(ngModel)]=\\\"selectedCustomer\\\" placeholder=\\\"Customer\\\">\\n      <ion-select-option [value]=null>All</ion-select-option>\\n        <ion-select-option style=\\\"width: 95%;\\\" *ngFor=\\\"let cus of customerList\\\" [value]=\\\"cus\\\">{{cus.name}}</ion-select-option>\\n      </ion-select>\\n    </ion-col>\\n    </ion-item>\\n  </ion-row>\\n  <ion-row>\\n    \\n    <ion-col size=\\\"4\\\" >\\n      <ion-item>\\n        <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" [(ngModel)]=\\\"startDate\\\" placeholder=\\\"Start Date\\\"></ion-datetime>\\n      </ion-item>\\n    </ion-col>\\n\\n    <ion-col size=\\\"4\\\">\\n      <ion-item>\\n        <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" [(ngModel)]=\\\"endDate\\\" placeholder=\\\"End Date\\\"></ion-datetime>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col  size=\\\"4\\\" style=\\\"text-align: right;\\\">\\n      <ion-button style=\\\"padding-right: 5%;float: right;\\\" (click)=\\\"filterInvoices()\\\">\\n        <ion-icon name=\\\"search-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n  <div class=\\\"line-separator\\\"></div>\\n  <div class=\\\"full-width\\\" id=\\\"imageToPrint\\\">\\n    <h5 class=\\\"text-center page-heading\\\">Report Summary</h5>\\n    <div class=\\\"display-flex  full-width\\\">\\n        <div  class=\\\"summary-label\\\">\\n          Total Cost :\\n        </div>\\n        <div text-right class=\\\"item-value letter-space\\\">\\n          {{cost | number : '1.2'}}\\n        </div>\\n    </div>\\n    <div class=\\\"display-flex  full-width\\\">\\n        <div  class=\\\"summary-label\\\">\\n          Total Revenue :\\n        </div>\\n        <div text-right class=\\\"item-value letter-space\\\">\\n          {{revenue | number : '1.2'}} \\n        </div>\\n    </div>\\n    <div class=\\\"display-flex  full-width\\\">\\n      <div  class=\\\"summary-label\\\">\\n        Total Profit :\\n      </div>\\n      <div text-right class=\\\"item-value letter-space\\\">\\n        {{totalProfit | number : '1.2'}}\\n      </div>\\n    </div>\\n    <div class=\\\"display-flex  full-width\\\">\\n      <div  class=\\\"summary-label\\\">\\n        Total Collection :\\n      </div>\\n      <div text-right class=\\\"item-value letter-space\\\">\\n        {{collection }}\\n      </div>\\n    </div>\\n    <div class=\\\"line-separator\\\"></div>\\n    <ion-list class=\\\"m-b-10\\\">\\n      <ion-list-header class=\\\"list-header\\\">\\n        <ion-col size=\\\"3\\\">Date</ion-col>\\n        <ion-col size=\\\"3\\\" class=\\\"text-center\\\">Customer</ion-col>\\n        <ion-col class=\\\"cust-col\\\" size=\\\"4\\\">Total</ion-col>\\n        <ion-col size=\\\"2\\\" *ngIf=\\\"isNotPrint\\\" >Delete</ion-col>\\n      </ion-list-header>\\n        <ion-row *ngFor= \\\"let inv of filterInvoiceList\\\" class=\\\"list-row\\\">\\n          <ion-col size=\\\"3\\\" (click)=\\\"viewInvoice(inv)\\\">{{inv.invoiceDate | date : short}}</ion-col>\\n          <ion-col size=\\\"3\\\" class=\\\"text-center\\\" (click)=\\\"viewInvoice(inv)\\\">{{inv.customer.name}}</ion-col>\\n          <ion-col class=\\\"text-right\\\" size=\\\"4\\\" (click)=\\\"viewInvoice(inv)\\\">{{inv.total}}</ion-col>\\n          <ion-col size=\\\"2\\\" >\\n              <ion-icon  name=\\\"trash\\\" (click)=\\\"presentDeleteAlertConfirm(inv)\\\" *ngIf=\\\"isNotPrint\\\" class=\\\"action-remove\\\"></ion-icon>\\n          </ion-col>\\n        </ion-row>\\n    </ion-list>    \\n  </div>\\n\\n</ion-content>\\n<ion-footer>\\n  \\n    \\n      <ion-row style=\\\"float: right;\\\">\\n        <ion-col style=\\\"float: right;\\\">\\n          <ion-button ion-button  color=\\\"primary\\\" (click)=\\\"download()\\\">\\n            <ion-icon name=\\\"mail\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <ion-button color=\\\"primary\\\" (click)=\\\"printBill()\\\">\\n            <ion-icon name=\\\"print\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n        \\n    \\n  \\n  \\n</ion-footer>\";","import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras } from '@angular/router';\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\nimport { stat } from 'fs';\nimport { start } from 'repl';\nimport { filter } from 'rxjs/operators';\nimport { DataService } from '../data.service';\nimport { Customer } from '../services/customer';\nimport { DbService } from '../services/db.service';\nimport { Inventory } from '../services/inventory';\nimport { Invoice } from '../services/invoice';\nimport { ToastserviceService } from '../services/toastservice.service';\nimport EscPosEncoder from 'esc-pos-encoder-ionic';\nimport { Profile } from '../services/profile';\nimport { sprintf } from \"sprintf-js\";\nimport { PrintService } from '../services/print.service';\nimport { InvoiceItem } from '../services/invoiceitem';\nimport { promise } from 'protractor';\nimport * as domtoimage from 'dom-to-image';\n\n@Component({\n  selector: 'app-report',\n  templateUrl: './report.page.html',\n  styleUrls: ['./report.page.scss'],\n})\nexport class ReportPage implements OnInit {\n  selectedCustomer: Customer;\n  startDate: Date;\n  endDate: Date;\n  invoiceList: Invoice[];\n  filterInvoiceList: Invoice[];\n  customerList: Customer[];\n  header: string[];\n  private profile: Profile;\n  private totalProfit: number = 0;\n  private cost: number = 0;\n  private revenue: number = 0;\n  private collection: number = 0;\n  isNotPrint: any = true;\n  constructor(public dbService: DbService, public toastService: ToastserviceService, private printService: PrintService,\n    public navCtrl: NavController, private dataService: DataService,public alertController: AlertController,\n    public loadingController: LoadingController) { }\n\n  ngOnInit() {\n    this.customerList = [];\n  }\n\n\n\n  addNewInvoice() {\n\n    this.navCtrl.navigateForward('newinvoice');\n  }\n\n  getAllInvoices() {\n    this.dbService.getAllInvoices().then(data => {\n      this.invoiceList = data;\n      this.filterInvoices();\n    }).catch(reason => {\n      this.toastService.presentToast(\"Failed to fetch invoices\");\n      console.log(reason);\n    })\n  }\n  getAllCustomers() {\n    this.dbService.getAllCustomers().then(data => this.customerList = data);\n  }\n  ionViewWillEnter() {\n    this.header = [];\n    this.header.push('Inv No');\n    this.header.push('Customer');\n    this.header.push('Total');\n    this.startDate = new Date();\n    this.endDate = new Date();\n    this.getAllInvoices();\n    this.getAllCustomers();\n    this.dbService.getProfile().then(data => {\n      this.profile = data;\n    });\n\n  }\n\n  async applyFilter(): Promise<any>{\n    var start = new Date(this.startDate);\n\n    var end = new Date(this.endDate);\n\n    if (this.startDate != null && this.startDate != undefined) {\n\n      start = new Date(start.getFullYear(), start.getMonth(), start.getDate());\n      start.setHours(0);\n      start.setMinutes(0);\n      start.setSeconds(0);\n    }\n    if (this.endDate != null && this.endDate != undefined) {\n      end = new Date(end.getFullYear(), end.getMonth(), end.getDate())\n      end.setHours(23);\n      end.setMinutes(23);\n      end.setSeconds(23);\n    }\n\n    if (this.selectedCustomer != null && this.selectedCustomer != undefined && (this.startDate == null || this.startDate == undefined) && (this.endDate == null || this.endDate == undefined)) {\n      this.filterInvoiceList = this.invoiceList.filter(inv => inv.customer.id == this.selectedCustomer.id);\n    } else if (this.selectedCustomer != null && this.selectedCustomer != undefined && this.startDate != null && this.startDate != undefined && (this.endDate == null || this.endDate == undefined)) {\n      this.filterInvoiceList = this.invoiceList.filter(inv => inv.customer.id == this.selectedCustomer.id && new Date(inv.invoiceDate) >= start);\n    } else if (this.selectedCustomer != null && this.selectedCustomer != undefined && this.startDate != null && this.startDate != undefined && this.endDate != null && this.endDate != undefined) {\n      this.filterInvoiceList = this.invoiceList.filter(inv => {\n        var date = new Date(inv.invoiceDate);\n        date.setHours(1);\n        date.setMinutes(1);\n        date.setSeconds(1);\n        return inv.customer.id == this.selectedCustomer.id && date.getTime() >= start.getTime() && date.getTime() <= end.getTime();\n      });\n    } else if ((this.selectedCustomer == null || this.selectedCustomer == undefined) && this.startDate != null && this.startDate != undefined && this.endDate != null && this.endDate != undefined) {\n      this.filterInvoiceList = this.invoiceList.filter(inv => {\n        var date = new Date(inv.invoiceDate);\n        date.setHours(1);\n        date.setMinutes(1);\n        date.setSeconds(1);\n        console.log('date ' + date.getTime());\n        console.log('start ' + start.getTime());\n        console.log('end ' + end.getTime());\n        return date.getTime() >= start.getTime() && date.getTime() <= end.getTime();\n      })\n    } else if ((this.selectedCustomer == null || this.selectedCustomer == undefined) && this.startDate != null && this.startDate != undefined && (this.endDate == null || this.endDate == undefined)) {\n      this.filterInvoiceList = this.invoiceList.filter(inv => new Date(inv.invoiceDate) >= start);\n    } else if ((this.selectedCustomer == null || this.selectedCustomer == undefined) && (this.startDate == null || this.startDate == undefined) && this.endDate != null && this.endDate != undefined) {\n      this.filterInvoiceList = this.invoiceList.filter(inv => new Date(inv.invoiceDate) <= end);\n    } else {\n      this.filterInvoiceList = this.invoiceList;\n    }\n    return this.filterInvoiceList;\n  }\n  async filterInvoices(): Promise<any> {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait...',\n      duration: 300000,\n    });\n    \n    await loading.present();\n    this.applyFilter().then(data=>{\n      this.totalCost().then(data=>{\n        this.cost=data;\n        this.totalRevenue().then(data=>{\n            this.revenue=data;\n          this.totalCollection().then(res=>{\n              this.collection=res;\n              this.totalProfit=this.revenue-this.cost;\n             loading.dismiss();\n            console.log('Loading dismissed!');\n          })\n        })    \n      })\n    })\n  }\n\n  async totalTax(invoices: any[]): Promise<number> {\n    if (this.filterInvoiceList != null && this.filterInvoiceList != undefined && this.filterInvoiceList.length) {\n      return this.filterInvoiceList.map(itm => itm.tax).reduce((acc, nxt) => acc + nxt);\n    }\n  }\n\n  async totalCost(): Promise<number> {\n    if (this.filterInvoiceList != null && this.filterInvoiceList != undefined && this.filterInvoiceList.length) {\n\n      let invoiceItemList: any[] = this.filterInvoiceList.reduce((arr, elem) => arr.concat(elem.invoiceItems), [])\n      return invoiceItemList.map(itm => {\n        if (itm.quantity != null && itm.quantity != undefined && itm.purchasePrice != null && itm.purchasePrice != undefined)\n          return (itm.quantity * itm.purchasePrice)\n      }).reduce((acc, nxt) => acc + nxt);\n      return this.cost;\n    }\n  }\n  async sum(invoices: any[]): Promise<number> {\n    if (this.filterInvoiceList != null && this.filterInvoiceList != undefined && this.filterInvoiceList.length) {\n      return this.filterInvoiceList.map(itm => itm.total).reduce((acc, nxt) => acc + nxt);\n    }\n\n  }\n\n  async totalCollection(): Promise<number> {\n    if (this.filterInvoiceList != null && this.filterInvoiceList != undefined && this.filterInvoiceList.length) {\n      var amtpaid = 0;\n      for (let i of this.filterInvoiceList) {\n        if (typeof i.amountPaid === 'string') {\n          amtpaid = amtpaid + Number.parseFloat(i.amountPaid);\n        } else {\n          amtpaid = amtpaid + i.amountPaid;\n        }\n      }\n      return amtpaid;\n      /*return this.filterInvoiceList.map(itm=>{\n        if(itm.amountPaid!=null && itm.amountPaid!=undefined && !Number.isNaN(itm.amountPaid) ){\n          \n          if(typeof itm.amountPaid ==='string') {\n            console.log(Number.parseFloat(itm.amountPaid))\n            return Number.parseFloat(itm.amountPaid);\n          }else{\n            return itm.amountPaid;\n          }\n        }\n        \n      \n      }).reduce((acc, nxt) => acc + nxt);*/\n    }\n\n  }\n\n  async totalRevenue(): Promise<number> {\n    if (this.filterInvoiceList != null && this.filterInvoiceList != undefined && this.filterInvoiceList.length) {\n\n      let invoiceItemList: InvoiceItem[] = this.filterInvoiceList.reduce((arr, elem) => arr.concat(elem.invoiceItems), [])\n      return invoiceItemList.map(itm => {\n        if (itm.quantity != null && itm.quantity != undefined && itm.unitPrice != null && itm.unitPrice != undefined)\n          return (itm.quantity * itm.unitPrice)\n      }).reduce((acc, nxt) => acc + nxt);\n      return this.revenue;\n    }\n  }\n  flatten(i, arrayField) {\n    if (Array.isArray(i)) return i.map(c => this.flatten(c, arrayField));\n    if (i.hasOwnProperty(arrayField)) return [{ ...i, [arrayField]: null }, ...i[arrayField].map(c => this.flatten(c, arrayField))];\n    return { ...i, [arrayField]: null };\n  }\n  download() {\n    let invoiceDataList = new Array();\n    for (let inv of this.filterInvoiceList) {\n      for (let it of inv.invoiceItems) {\n        let itm : any=it;\n        let invoiceData = { InvoiceNumber: inv.invoiceNumber, InvoiceDate: inv.invoiceDate, \n          Customer: inv.customer.name, Item: itm.name, UnitPrice: itm.unitPrice, Quantity: itm.quantity,\n           Cost: itm.purchasePrice, TotalCost: itm.purchasePrice * itm.quantity, TotalRevenue : (itm.quantity * itm.unitPrice),Tax: inv.tax, \n           GP: (itm.quantity * itm.unitPrice) - (itm.purchasePrice * itm.quantity), TotalWithVAT: inv.total };\n        invoiceDataList.push(invoiceData);\n      }\n\n    }\n    // this.dataService.downloadCcSV(this.invoiceList,'invoices.csv');\n    this.dataService.exportToExcel(invoiceDataList, 'invoices.xlsx');\n\n\n  }\n\n  viewInvoice(invoice: Invoice) {\n    let navigationExtras: NavigationExtras = {\n      queryParams: { invoice: invoice }\n    };\n    console.log(\"selected invoice\" + invoice.invoiceNumber);\n    this.navCtrl.navigateRoot('viewinvoice', navigationExtras);\n  }\n\n\n  getFormatedContent() {\n    const encoder = new EscPosEncoder();\n\n    let grossTax: number = 0;\n    let total: number = 0;\n    this.totalTax(this.filterInvoiceList).then(data => {\n      grossTax = data;\n      this.sum(this.filterInvoiceList).then(val => {\n        total = val;\n        let grossTotal = total - grossTax;\n        var today = new Date();\n        let datetime: string = today.getDate() + '-' + today.getMonth() + '-' + today.getFullYear() + ' ' + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n        let result = encoder.initialize().bold(true).raw([0x1B, 0x21, 0x20]).align('center').line(this.profile.companyName).bold(true).newline().\n          raw([0x1B, 0x21, 0x03]).align('left').bold(true).line('VAT # : ' + this.profile.vatNumber + ',' + 'CR # : ' + this.profile.crNumber).\n          align('left').bold(true).line('---------------------------------------------------------------').bold(true).\n          align('left').line('Print Generated At :' + datetime).\n          align('left').line('Date Range : ' + this.startDate + 'To ' + this.endDate).\n          align('left').bold(true).line('---------------------------------------------------------------').bold(true).\n          align('left').line('Gross Total(Excl.VAT) ' + sprintf('%11.2f', grossTotal)).\n          align('left').line('Total VAT(' + this.profile.vat + ') ' + sprintf('%11.2f', grossTax)).\n          align('left').line('Total ' + sprintf('%11.2f', total)).\n          align('left').bold(true).line('---------------------------------------------------------------').bold(true).encode();\n\n        return result;\n      });\n    })\n\n\n  }\n\n  printBill() {\n    this.isNotPrint = false;\n    var node = document.getElementById(\"imageToPrint\");\n    var  width = this.profile &&  this.profile.selectedPrinterSize ? this.profile.selectedPrinterSize : 368;\n    domtoimage.toPng(node).then(dataUrl => {\n        let encoder = new EscPosEncoder();\n        let result = encoder.initialize();\n        let img = new Image();\n        img.src = dataUrl; \n        img.onload  = (e) =>  {\n          var ht = Math.ceil(node.offsetHeight / 8) * 8;\n          ht = ht + 120;\n          let finalPrint  = result\n            .image(img,width,ht,'threshold',120)\n            .encode();\n          this.printService.connectToBluetoothPrinter(this.profile.selectedPrinter).subscribe((res) => {\n            this.printService.printDataToPrinter(finalPrint).then(() => { \n                this.printService.disconnectBluetoothPrinter().then(() => {\n                  this.isNotPrint = true;\n                }, (err) => {\n                  alert('Disconnecting error ::' + err);\n                  this.isNotPrint = true;\n                }); \n            },(err) => {\n              alert(\"Printing Failed..\");\n              this.isNotPrint = true;\n            });\n        },(error) => {\n          alert(\"connecting to printer failed..\");\n          this.isNotPrint = true;\n         })\n        }\n    }).catch(function (error) {\n      console.error(\"oops, something went wrong!\", error);\n      this.modalCtrl.dismiss();\n    });\n\n  }\n  showReportsHome() {\n    this.navCtrl.navigateRoot('reporthome');\n  }\n\n  deleteInvoice(inv){\n    this.dbService.deleteInvoice(inv).then(data=>{\n      this.toastService.presentToast('Invoice removed successfully');\n      this.getAllInvoices();\n  });\n}\n\nasync presentDeleteAlertConfirm(inv : Invoice) {\n  const alert = await this.alertController.create({\n   // cssClass: 'my-custom-class',\n    header: 'Confirm!',\n    message: '<strong>Are you sure to delete this invoice?</strong>!!!',\n    buttons: [\n      {\n        text: 'No',\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: (blah) => {\n          console.log('Confirm Cancel');\n        }\n      }, {\n        text: 'Yes',\n        handler: () => {\n          this.deleteInvoice(inv);\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\n}\n"]}