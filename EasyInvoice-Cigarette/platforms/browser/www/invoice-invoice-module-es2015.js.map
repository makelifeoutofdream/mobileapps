{"version":3,"sources":["./src/app/invoice/invoice.page.ts","./src/app/invoice/invoice.page.scss","./src/app/invoice/invoice-routing.module.ts","./src/app/invoice/invoice.page.html","./src/app/invoice/invoice.module.ts"],"names":[],"mappings":"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","file":"invoice-invoice-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { DataService } from '../data.service';\nimport { DbService } from '../services/db.service';\nimport { Invoice } from '../services/invoice';\nimport { ToastserviceService } from '../services/toastservice.service';\n\n@Component({\n  selector: 'app-invoice',\n  templateUrl: './invoice.page.html',\n  styleUrls: ['./invoice.page.scss'],\n})\nexport class InvoicePage implements OnInit {\n\n  invoiceList : Invoice [] ;\n  constructor(public dbService : DbService,public toastService : ToastserviceService,\n    public navCtrl:NavController,private dataService : DataService,public alertController: AlertController) { }\n\n  ngOnInit() {\n  }\n\n  addNewInvoice(){\n    \n    this.navCtrl.navigateRoot('newinvoice');\n  }\n\n  getAllInvoices(){\n    this.dbService.getAllInvoices().then(data=>{\n      console.log(data);\n      this.invoiceList=data ;\n      const today = new Date();\n      today.setHours(0);\n      today.setMinutes(0);\n      today.setSeconds(0);\n      this.invoiceList= this.invoiceList.filter(a=> new Date(a.invoiceDate)>=today);\n    }).catch(reason=>{\n      this.toastService.presentToast(\"Failed to fetch invoices\");\n      console.log(reason);\n    })\n  }\n  ionViewWillEnter(){\n    this.getAllInvoices();\n  }\n\n  download(){\n    let invoiceDataList=new Array();\n    for(let inv of this.invoiceList){\n      for(let itm of inv.invoiceItems){\n        let invoiceData ={InvoiceNumber : inv.invoiceNumber,InvoiceDate:inv.invoiceDate,Customer:inv.customer.name,Item:itm.name,UnitPrice:itm.unitPrice,Quantity:itm.quantity,Tax:inv.tax,Total:inv.total};\n        invoiceDataList.push(invoiceData);\n      }\n      \n    } \n     // this.dataService.downloadCcSV(this.invoiceList,'invoices.csv');\n     this.dataService.exportToExcel(invoiceDataList,'invoices.xlsx');\n     \n    \n  }\n\n \n\n\n  \n}\n","export default \".list-header {\\n  background: #39d3ea;\\n  color: #fff;\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 9999;\\n}\\n\\n.action-edit {\\n  color: #2c29e9;\\n  background: none;\\n}\\n\\n.text-center {\\n  text-align: center;\\n}\\n\\n.text-right {\\n  text-align: right;\\n}\\n\\n.cust-col {\\n  text-align: right;\\n  padding-right: 5%;\\n}\\n\\n.list-row {\\n  text-align: center;\\n  align-items: center;\\n  justify-content: center;\\n  display: flex;\\n  padding: 8px 0px;\\n}\\n\\n.line-separator {\\n  margin: 10px 0px;\\n  border: 1px solid #adadad;\\n}\\n\\n.page-heading {\\n  color: #484444;\\n}\\n\\n.list-row:nth-child(even) {\\n  background: #f2f2f2;\\n  color: #adadad;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2ludm9pY2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7RUFDQSxXQUFBO0VBQ0Esd0JBQUE7RUFBQSxnQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLGFBQUE7QUFDSjs7QUFDQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtBQUVKOztBQUFBO0VBQ0ksa0JBQUE7QUFHSjs7QUFEQTtFQUNJLGlCQUFBO0FBSUo7O0FBRkE7RUFDSSxpQkFBQTtFQUNBLGlCQUFBO0FBS0o7O0FBSEE7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUFNSjs7QUFKQTtFQUNJLGdCQUFBO0VBQ0EseUJBQUE7QUFPSjs7QUFMQTtFQUNJLGNBQUE7QUFRSjs7QUFOQTtFQUNJLG1CQUFBO0VBQ0EsY0FBQTtBQVNKIiwiZmlsZSI6Imludm9pY2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3QtaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjMzlkM2VhO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgei1pbmRleDogOTk5OTtcbn1cbi5hY3Rpb24tZWRpdCB7XG4gICAgY29sb3I6ICMyYzI5ZTk7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbn1cbi50ZXh0LWNlbnRlciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLnRleHQtcmlnaHQge1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuLmN1c3QtY29sIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1JTtcbn1cbi5saXN0LXJvdyB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwYWRkaW5nOiA4cHggMHB4O1xufVxuLmxpbmUtc2VwYXJhdG9yIHtcbiAgICBtYXJnaW46IDEwcHggMHB4O1xuICAgIGJvcmRlciA6IDFweCBzb2xpZCAjYWRhZGFkO1xufVxuLnBhZ2UtaGVhZGluZyB7XG4gICAgY29sb3I6ICM0ODQ0NDQ7XG59XG4ubGlzdC1yb3c6bnRoLWNoaWxkKGV2ZW4pIHtcbiAgICBiYWNrZ3JvdW5kOiAgI2YyZjJmMjtcbiAgICBjb2xvcjogI2FkYWRhZDtcbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InvoicePage } from './invoice.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InvoicePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InvoicePageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Invoice</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button menu=\\\"mainmenu\\\"> \\n\\n        </ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n  <ion-content>\\n    <h5 class=\\\"text-center page-heading\\\">Invoices</h5>\\n    <ion-list>\\n      <ion-list-header class=\\\"list-header\\\">\\n        <ion-col size=\\\"4\\\">Date</ion-col>\\n        <ion-col size=\\\"4\\\" class=\\\"text-center\\\">Customer</ion-col>\\n        <ion-col  size=\\\"4\\\" class=\\\"text-right\\\">Total</ion-col>\\n        <!-- <ion-col size=\\\"2\\\"></ion-col> -->\\n      </ion-list-header>  \\n      <ion-row *ngFor= \\\"let inv of invoiceList\\\" class=\\\"list-row\\\">\\n            <ion-col size=\\\"4\\\">{{inv.invoiceDate | date : 'dd/MM/yyyy' }}</ion-col>\\n            <ion-col size=\\\"4\\\" class=\\\"text-center\\\">{{inv.customer.name}}</ion-col>\\n            <ion-col size=\\\"4\\\" class=\\\"text-right\\\">{{inv.total}}</ion-col>\\n            <!-- <ion-col size=\\\"2\\\" >\\n              <ion-icon  name=\\\"create-outline\\\"  class=\\\"action-edit\\\" (click)=\\\"editInvoice(inv)\\\"></ion-icon>\\n          </ion-col> -->\\n      </ion-row>\\n    </ion-list>   \\n    <div class=\\\"line-separator\\\"></div> \\n    \\n  </ion-content>\\n  <ion-footer>\\n    \\n      \\n        <ion-row style=\\\"float:right\\\">\\n          <ion-col >\\n            <ion-button ion-button  color=\\\"primary\\\" (click)=\\\"download()\\\">\\n              <ion-icon name=\\\"mail\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n          <ion-col >\\n            <ion-button ion-button  color=\\\"primary\\\" (click)=\\\"addNewInvoice()\\\">\\n              <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n          \\n      \\n    \\n    \\n  </ion-footer>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InvoicePageRoutingModule } from './invoice-routing.module';\n\nimport { InvoicePage } from './invoice.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    InvoicePageRoutingModule\n  ],\n  declarations: [InvoicePage]\n})\nexport class InvoicePageModule {}\n"],"sourceRoot":"webpack:///"}