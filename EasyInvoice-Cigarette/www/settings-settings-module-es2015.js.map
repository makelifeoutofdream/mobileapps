{"version":3,"sources":["./src/app/settings/settings-routing.module.ts","./src/app/settings/settings.module.ts","./src/app/settings/settings.page.scss","./src/app/services/print.service.ts","./src/app/settings/settings.page.ts","./src/app/settings/settings.page.html"],"names":[],"mappings":"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","file":"settings-settings-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZXR0aW5ncy5wYWdlLnNjc3MifQ== */\";","import { Injectable } from '@angular/core';\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\nimport { ToastserviceService } from './toastservice.service';\ndeclare let  window : any;\n@Injectable({\n  providedIn: 'root'\n})\nexport class PrintService {\n  public selectedPrinter:any;\n  \n  DatecsPrinter: any;\n  \n  constructor(public btSerial : BluetoothSerial,public tostService:ToastserviceService) { }\n\n listDevices(){\n   return new Promise((resolve,reject)=>{\n    window.DatecsPrinter.listBluetoothDevices(\n      function(success){\n        resolve(success);\n      },\n      function(error){\n        alert(error);\n        reject(error);\n      }\n    )\n   });\n   \n   \n }\n\n connectPrinter(){\n  return new Promise((resolve,reject)=>{\n    window.DatecsPrinter.connect(\n      function(success){\n        resolve(success);\n      },\n      function(error){\n        alert(error);\n        reject(error);\n      }\n    )\n   });\n }\n\n print(data){\n\n  return new Promise((resolve,reject)=>{\n    window.DatecsPrinter.printText(data,'UTF-8',\n      function(success){\n        resolve(success);\n      },\n      function(error){\n        alert(error);\n        reject(error);\n      }\n    )\n   });\n\n }\n\n  printData(macAddress,data){\n  \n    window.DatecsPrinter.listBluetoothDevices(\n      function (devices) {\n        window.DatecsPrinter.connect(devices[0].address, \n          function() {\n            printSomeTestText();\n          },\n          function(error) {\n            alert(JSON.stringify(error));\n          }\n        );\n      },\n      function (error) {\n        alert(JSON.stringify(error));\n      }\n    );\n    \n    function printSomeTestText() {\n      window.DatecsPrinter.printText(\"Print Test!\", 'ISO-8859-1', \n        function() {\n          alert('success');\n        }\n      );\n    }\n    \n\n  }\n\n  searchBluetoothPrinter(){\n   return this.btSerial.list();\n   \n  }\n\n  connectToBluetoothPrinter(macAddress){\n    return this.btSerial.connect(macAddress);\n  }\n\n  disconnectBluetoothPrinter(){\n    return this.btSerial.disconnect();\n  }\n\n  sendToBluetoothPrinter(macAddress,data){\n    this.connectToBluetoothPrinter(macAddress).subscribe(_=>{\n      this.btSerial.write(data).then(_=>{\n        this.btSerial.disconnect()}).catch(reason=>{console.log(reason)})\n    },err=>console.log(this.tostService.presentToast(\"Printer Issue - bluetooth address - \"+macAddress+\"-err-\"+err)));\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform } from '@ionic/angular';\nimport { profile } from 'console';\nimport { DbService } from '../services/db.service';\nimport { PrintService } from '../services/print.service';\nimport { Profile } from '../services/profile';\nimport { ToastserviceService } from '../services/toastservice.service';\nimport {ApplicationRef} from '@angular/core'\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n  user : any={};\n  type : string;\n  bluetoothList:any=[];\n  \n  showProfileSegment : boolean=true;\n  showTaxSegment : Boolean=false;\n  showPrinterSegment : Boolean=false;\n  private userProfile : Profile=  {id:null , companyName:\"\",companyNameInArabic:\"\", \n  addressLine1:\"\",addressLine1InArabic:\"\",addressLine2:\"\",addressLine2InArabic:\"\",vatNumber:\"\",crNumber:\"\",toEmail:\"\",ccEmail:\"\",vat:null,selectedPrinter:null};\n  constructor(public navCtrl:NavController,private print:PrintService,private toastService:ToastserviceService,\n    private dbService:DbService,private ref: ApplicationRef,private plt:Platform) { \n    this.type=\"profile\";\n    this.userProfile={id:null , companyName:\"\",companyNameInArabic:\"\", \n    addressLine1:\"\",addressLine1InArabic:\"\",addressLine2:\"\",addressLine2InArabic:\"\",vatNumber:\"\",crNumber:\"\",toEmail:\"\",ccEmail:\"\",vat:null,selectedPrinter:null};\n    this.user.userProfile=this.userProfile;\n  }\n\n  ngOnInit() {\n    this.type=\"profile\";\n    this.showHideSegment();\n    this.listPrinter();\n    \n    //this.userProfile={id:null , companyName:\"\",companyNameInArabic:\"\", \n   // addressLine1:\"\",addressLine1InArabic:\"\",addressLine2:\"\",addressLine2InArabic:\"\",vatNumber:\"\",crNumber:\"\",toEmail:\"\",ccEmail:\"\",vat:null,selectedPrinter:null};\n     // this.user.userProfile=this.userProfile;\n  }\n\n  \n\n  showHideSegment(){\n    if(this.type=='profile'){\n      this.showPrinterSegment=false;\n      this.showProfileSegment=true;\n      this.showTaxSegment=false;\n    }else if(this.type=='tax'){\n      this.showPrinterSegment=false;\n      this.showProfileSegment=false;\n      this.showTaxSegment=true;\n    }else if(this.type=='printer'){\n      this.showPrinterSegment=true;\n      this.showProfileSegment=false;\n      this.showTaxSegment=false;\n    }\n    //this.ref.tick();\n  }\n  ionViewWillEnter(){\n    \n    this.listPrinter();\n    this.type=\"profile\";\n    this.showHideSegment();\n    this.dbService.getProfile().then(data=>{\n      this.userProfile=data\n      this.user.userProfile=data;\n    }  );\n    if(this.userProfile==null || this.userProfile==undefined){\n      this.userProfile={id:null , companyName:\"\",companyNameInArabic:\"\", \n      addressLine1:\"\",addressLine1InArabic:\"\",addressLine2:\"\",addressLine2InArabic:\"\",vatNumber:\"\",crNumber:\"\",toEmail:\"\",ccEmail:\"\",vat:null,selectedPrinter:null};\n      this.user.userProfile=this.userProfile;\n    }\n    console.log(\"profile\"+this.user.userProfile);\n  }\n\n  listPrinter(){\n    if(this.plt.is('cordova')){\n   this.print.searchBluetoothPrinter().then(resp=>{\n      this.bluetoothList=resp;\n      \n    });\n    /*this.print.listDevices().then(res=>{\n      this.bluetoothList=res;\n    })*/\n  }\n  \n\n  }\n  \n  selectPrinter(macAddress:any){\n    this.user.userProfile.selectedPrinter=macAddress;\n    \n  }\n\n  updateProfile(){\n    console.log(\"profile printer\"+this.user.userProfile.selectedPrinter);\n    this.dbService.createOrUpdateProfile(this.user.userProfile).then(data=>{\n        if(data==null || data==undefined ){\n          this.toastService.presentToast(\"Failed to update settings\");  \n        }else{\n          this.user.userProfile=data;\n          this.toastService.presentToast(\"Settings updated successfully\");\n        }\n    }).catch(reason=>{\n      this.toastService.presentToast(\"Failed to update settings\");\n    })\n  }\n  \n\n  segmentChanged(evt:any){\n    if(evt.detail.value=='profile'){\n      this.type=\"profile\";\n    }else if(evt.detail.value=='tax'){\n      this.type=\"tax\";\n    }else if(evt.detail.value=='printer'){\n      this.type=\"printer\";\n    }\n\n    this.dbService.getProfile().then(data=>this.userProfile=data);\n    if(this.userProfile==null || this.userProfile==undefined){\n      this.userProfile={id:null , companyName:\"\",companyNameInArabic:\"\", \n      addressLine1:\"\",addressLine1InArabic:\"\",addressLine2:\"\",addressLine2InArabic:\"\",vatNumber:\"\",crNumber:\"\",toEmail:\"\",ccEmail:\"\",vat:null,selectedPrinter:null};\n      this.user.userProfile=this.userProfile;\n    }\n    this.showHideSegment();\n  }\n  \n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Settings</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button menu=\\\"mainmenu\\\"> \\n\\n        </ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-segment color=\\\"secondary\\\" (ionChange)=\\\"segmentChanged($event)\\\" [(ngModel)]=\\\"type\\\"> \\n    <ion-segment-button checked value=\\\"profile\\\">\\n      <ion-label>Profile</ion-label>\\n      <ion-icon name=\\\"person-circle\\\"></ion-icon>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"tax\\\">\\n      <ion-label>Tax</ion-label>\\n       <ion-icon name=\\\"clipboard\\\"></ion-icon>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"printer\\\">\\n      <ion-label>Printer</ion-label>\\n      <ion-icon name=\\\"print\\\"></ion-icon>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n\\n  <div [ngSwitch]=\\\"type\\\">\\n    <div *ngSwitchCase=\\\"'profile'\\\"> \\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"Company Name\\\" [(ngModel)]=\\\"user.userProfile.companyName\\\"></ion-textarea>\\n            </ion-item>\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"اسم الشركة\\\" [(ngModel)]=\\\"user.userProfile.companyNameInArabic\\\"></ion-textarea>\\n            </ion-item>\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"Address Line1\\\" [(ngModel)]=\\\"user.userProfile.addressLine1\\\"></ion-textarea>\\n            </ion-item>\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"العنوان السطر 1\\\" [(ngModel)]=\\\"user.userProfile.addressLine1inArabic\\\"></ion-textarea>\\n            </ion-item>\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"addressLine2\\\" [(ngModel)]=\\\"user.userProfile.addressLine2\\\"></ion-textarea>\\n            </ion-item>\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"سطر العنوان 2\\\" [(ngModel)]=\\\"user.userProfile.addressLine2InArabic\\\"></ion-textarea>\\n            </ion-item>\\n            \\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"Email to send\\\" [(ngModel)]=\\\"user.userProfile.toEmail\\\"></ion-textarea>\\n          </ion-item>\\n        \\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-textarea  placeholder=\\\"CC Emails\\\" [(ngModel)]=\\\"user.userProfile.ccEmail\\\"></ion-textarea>\\n          </ion-item>\\n        \\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n      <ion-row style=\\\"float:right\\\">\\n        <ion-col >\\n        <ion-button  color=\\\"primary\\\" (click)=\\\"updateProfile()\\\">\\n          <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n      </ion-row>\\n      \\n    </div>\\n    <div *ngSwitchCase=\\\"'tax'\\\"> \\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-item style=\\\"width: 100%\\\"> \\n              <ion-input type=\\\"number\\\" placeholder=\\\"Vat(%)\\\" [(ngModel)]=\\\"user.userProfile.vat\\\"></ion-input>\\n          </ion-item>\\n          <ion-item style=\\\"width: 100%\\\"> \\n            <ion-textarea  placeholder=\\\"VAT Number\\\" [(ngModel)]=\\\"user.userProfile.vatNumber\\\"></ion-textarea>\\n          </ion-item>\\n          <ion-item style=\\\"width: 100%\\\"> \\n            <ion-textarea  placeholder=\\\"CR Number\\\" [(ngModel)]=\\\"user.userProfile.crNumber\\\"></ion-textarea>\\n          </ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n      <ion-row style=\\\"float:right\\\">\\n        <ion-col >\\n        <ion-button  color=\\\"primary\\\" (click)=\\\"updateProfile()\\\">\\n          <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n      </ion-row>\\n      \\n    </div>\\n    <div *ngSwitchCase=\\\"'printer'\\\">\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let item of bluetoothList\\\" (click)=\\\"selectPrinter(item.address)\\\">\\n          {{item.name}} {{item.address}}\\n        </ion-item>\\n      </ion-list>\\n      <ion-item *ngIf=\\\"bluetoothList!=null && bluetoothList!=undefined\\\">\\n        Selected Printer: {{user.userProfile.selectedPrinter}} \\n      </ion-item>\\n      <ion-item *ngIf=\\\"bluetoothList==null || bluetoothList==undefined\\\">\\n        No Printer Connected..\\n      </ion-item>\\n      <ion-row style=\\\"float:right\\\">\\n        <ion-col >\\n        <ion-button  color=\\\"primary\\\" (click)=\\\"updateProfile()\\\">\\n          <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n      </ion-row>\\n    </div>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}